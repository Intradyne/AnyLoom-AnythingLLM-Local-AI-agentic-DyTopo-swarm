{
	"nodes":[
		{"id":"78c28d9b4306edd4","type":"text","text":"","x":-2122,"y":-1241,"width":250,"height":60},
		{"id":"3d568fa5e79cc104","type":"file","file":"prompts/lm-studio-system-prompt.md","x":1320,"y":-1720,"width":520,"height":6880},
		{"id":"3c3bfc424d4ae68d","type":"file","file":"docs/qwen3-model.md","x":3610,"y":-1080,"width":710,"height":2140},
		{"id":"f1a2b3c4e5f60010","type":"file","file":"docs/dytopo-swarm.md","x":3610,"y":-2860,"width":710,"height":1680},
		{"id":"f1a2b3c4e5f60012","type":"file","file":"docs/qdrant-servers.md","x":5160,"y":-2860,"width":660,"height":4120},
		{"id":"f1a2b3c4e5f60011","type":"file","file":"docs/qdrant-topology.md","x":4400,"y":-2860,"width":660,"height":2280},
		{"id":"540d9c1746423f0f","type":"file","file":"docs/bge-m3-embedding.md","x":2840,"y":-2860,"width":699,"height":3720},
		{"id":"69b939f82fe4a9be","type":"file","file":"docs/architecture.md","x":-1360,"y":-1720,"width":840,"height":2800},
		{"id":"9052a563e375368b","type":"file","file":"docs/anythingllm-settings.md","x":315,"y":-1720,"width":700,"height":2420},
		{"id":"8fe0f7213473bb4f","type":"file","file":"docs/lm-studio-settings.md","x":-340,"y":-1720,"width":580,"height":2120},
		{"id":"87770cf2ef2be507","type":"text","text":"**LM Studio mcp.json**\n**JS Code Sandbox** —  disabled built in mcp server\nragv1 embedder — disabled built in mcp server\n\n\n```json\n{\n  \"mcpServers\": {\n    \"MCP_DOCKER\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"mcp\",\n        \"gateway\",\n        \"run\"\n      ],\n      \"env\": {\n        \"LOCALAPPDATA\": \"C:\\\\Users\\\\User\\\\AppData\\\\Local\",\n        \"ProgramData\": \"C:\\\\ProgramData\",\n        \"ProgramFiles\": \"C:\\\\Program Files\"\n      }\n    },\n    \"qdrant-rag\": {\n      \"command\": \"python\",\n      \"args\": [\n        \"C:\\\\Users\\\\User\\\\Qdrant-RAG+Agents\\\\src\\\\qdrant_mcp_server.py\"\n      ],\n      \"env\": {\n        \"QDRANT_URL\": \"http://localhost:6334\",\n        \"LMStudio_DOCS_DIR\": \"C:\\\\Users\\\\User\\\\Qdrant-RAG+Agents\\\\rag-docs\\\\lm-studio\",\n        \"AnythingLLM_DOCS_DIR\": \"C:\\\\Users\\\\User\\\\Qdrant-RAG+Agents\\\\rag-docs\\\\anythingllm\",\n        \"COLLECTION_NAME\": \"lmstudio_docs\"\n      }\n    }\n  }\n}\n```","x":-475,"y":-2640,"width":790,"height":841},
		{"id":"e53cbc8b3fc99425","type":"text","text":"**AnythingLLM mcp.json**\nhas built in webscraper\n\n```json\n{\n  \"mcpServers\": {\n    \"MCP_DOCKER\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"mcp\",\n        \"gateway\",\n        \"run\"\n      ],\n      \"env\": {\n        \"LOCALAPPDATA\": \"C:\\\\Users\\\\User\\\\AppData\\\\Local\",\n        \"ProgramData\": \"C:\\\\ProgramData\",\n        \"ProgramFiles\": \"C:\\\\Program Files\"\n      }\n    }\n  }\n}\n```","x":372,"y":-2369,"width":587,"height":500},
		{"id":"7b1a12059b471dbb","type":"file","file":"prompts/anythingllm-system-prompt.md","x":1900,"y":-1720,"width":550,"height":3120},
		{"id":"f1a2b3c4e5f60013","type":"file","file":"docs/benchmark-results-showcase.md","x":-2960,"y":-1720,"width":760,"height":9240},
		{"id":"a1b2c3d4e5f60003","type":"text","text":"**Source Code (`src/`)**\n\n**qdrant_mcp_server.py** (~1,030 lines)\nMCP server: 5 RAG + 3 DyTopo tools\nBGE-M3 FlagEmbedding on CPU\nHybrid dense+sparse with RRF\n3 thin DyTopo wrappers → delegates to src/dytopo/\n\n**dytopo/** — 8-module package\n• models.py — Pydantic v2 data models + metrics\n• config.py — YAML config loader (dytopo_config.yaml)\n• agents.py — system prompts, JSON schemas, rosters\n• router.py — MiniLM-L6-v2 singleton, cosine similarity\n• graph.py — NetworkX DAG, cycle breaking, topo sort\n• orchestrator.py — main loop, AsyncOpenAI, tenacity retry\n• governance.py — convergence, stalling, re-delegation\n• audit.py — JSONL event logging\n\n**reindex.py**\nForce-reindex RAG docs → Qdrant 6334\nSHA-256 content-hash dedup\n\n**benchmark_helpers.py**\nAnythingLLM + LM Studio API clients\nGrading helpers (fabrication, depth, tools)\nQwen3 `<think>` tag stripping","x":-3440,"y":-1340,"width":440,"height":520},
		{"id":"a1b2c3d4e5f60002","type":"text","text":"**Benchmark & Testing**\n\nV1: 20/25 (80%) — baseline all categories\nV2: 10/12 (83%) — gap-closure + topN sweep\nFinal: 10/16 (63%) — adversarial + explanation tier\n\nKey findings:\n- Direct price refusal: bulletproof since V2\n- Adversarial framing: drove Rev6 HARD STOP broadening\n- Explanation tier (50-150w): structural limitation\n- Depth driven by prompt examples, not topN\n\n`docs/benchmark-results-showcase.md`\n`prompts/benchmarker.md`","x":-3440,"y":-1720,"width":440,"height":380},
		{"id":"77ddebe54844783b","type":"file","file":"README.md","x":-2160,"y":-1720,"width":760,"height":6680},
		{"id":"f23465e5ec95a89b","type":"text","text":"Qdrant Docker Container — VectorDB (RAG)\nAnythingLLM Only — port 6333\n\n**Embedding Pipeline 1 (GPU):**\nBGE-M3 Q8_0 GGUF via LM Studio /v1/embeddings\nDense 1024-dim only (~635 MB VRAM)\nWorkspace documents + webscrape results\n\ndocker run -d --name anythingllm-qdrant -p 6333:6333 --memory=4g --cpus=4 qdrant/qdrant:latest","x":-3150,"y":-4021,"width":450,"height":276,"color":"5"},
		{"id":"a1b2c3d4e5f60001","type":"text","text":"**RAG Document Sources**\n\n**AnythingLLM → Qdrant 6333:**\n6 docs in `rag-docs/anythingllm/`\n- system-prompt-reference\n- infrastructure-and-routing\n- output-and-trust-standards\n- tool-reference\n- workflow-recipes\n- error-recovery-guide\n\n**LM Studio → Qdrant 6334:**\n10 docs in `rag-docs/lm-studio/`\n- 01-architecture → 10-troubleshooting\n- Hybrid dense+sparse indexing\n- SHA-256 content-hash dedup\n- source_dir payload filtering","x":-3110,"y":-3687,"width":370,"height":480,"color":"6"},
		{"id":"b2dc3311d4f3d582","type":"text","text":"Qdrant Docker Container — VectorDB (RAG)\nLM Studio Only — port 6334\n\n**Embedding Pipeline 2 (CPU):**\nBAAI/bge-m3 via FlagEmbedding (auto-downloads)\nDense 1024-dim + sparse lexical (RRF hybrid)\n~2.3 GB RAM, 0 VRAM\nHybrid search via qdrant_mcp_server.py\n\ndocker run -d --name lmstudio-qdrant -p 6334:6333 --memory=4g --cpus=4 qdrant/qdrant:latest","x":-3150,"y":-3120,"width":450,"height":300,"color":"5"},
		{"id":"74a6aa6bb5b8beab","type":"text","text":"User Input","x":-2469,"y":-3971,"width":138,"height":60,"color":"1"},
		{"id":"94f9cca3b7a2efc7","type":"text","text":"Obsidian \n- personal knowledge base\n- notes, to-dos","x":-2170,"y":-4021,"width":250,"height":160,"color":"6"},
		{"id":"487af9359d013e6d","type":"text","text":"AnythingLLM\n- User interface + working memory\n- Text/Voice to Text/Voice\n- Built-in web scraper both llm and manual\n- Automatically loads Qdrant RAG","x":-2582,"y":-3777,"width":364,"height":180,"color":"4"},
		{"id":"4dd3c5b4ac513e2b","type":"text","text":"LM Studio\n- Model control\n- Qwen3-30B-A3B-Instruct-2507 (Q6_K)\n- BGE-M3 Q8_0 GGUF (GPU, ~635 MB VRAM)\n  ↳ /v1/embeddings → dense only → AnythingLLM","x":-2582,"y":-3407,"width":355,"height":225,"color":"4"},
		{"id":"d1a2b3c4e5f60001","type":"text","text":"**DyTopo Swarm — `src/dytopo/` package (8 modules)**\nPaper: arXiv 2602.06039\n\n**Package modules:**\n• `models.py` — Pydantic v2 data models (SwarmTask, AgentMetrics, SwarmMetrics)\n• `config.py` — YAML config loader (merges dytopo_config.yaml over defaults)\n• `agents.py` — system prompts, JSON schemas, domain rosters\n• `router.py` — MiniLM-L6-v2 singleton, cosine similarity, threshold routing\n• `graph.py` — NetworkX DAG, cycle breaking, topological sort\n• `orchestrator.py` — main loop, lazy AsyncOpenAI, tenacity retry (3×)\n• `governance.py` — convergence, stalling, re-delegation\n• `audit.py` — JSONL event logging → ~/dytopo-logs/{task_id}/\n\n**MCP Tools (3 thin wrappers in qdrant_mcp_server.py):**\n• `swarm_start(task, domain, tau, k_in, max_rounds)` → task_id\n• `swarm_status(task_id)` → progress + metrics\n• `swarm_result(task_id, include_topology)` → answer + SwarmMetrics\n\n**Round lifecycle (rounds 2+):**\n1. Manager sets round goal\n2. Phase A: agents generate descriptors only (T=0.1)\n3. Phase B: MiniLM embeds → cosine sim → threshold τ → directed graph\n4. Phase C: agents execute in topological order with routed messages (T=0.3)\n5. Governance: convergence (90% over 3 rounds), stalling, re-delegation\n6. Audit: all events → JSONL\n\n**Domains:** code · math · general\n\n**Models used:**\n• LM Studio Qwen3 (localhost:1234) — agent inference\n• MiniLM-L6-v2 on CPU (~80 MB) — routing embeddings (lazy singleton)\n\n**Config:** dytopo_config.yaml · 3–5 agents · 3–5 rounds · three-phase split","x":-2540,"y":-3100,"width":620,"height":842,"color":"3"},
		{"id":"bba90d522812488d","type":"text","text":"standalone Tools\n- responsive bots\n- python smart web scraper\n- 2d/video/3d generation model","x":-1581,"y":-3724,"width":291,"height":144,"color":"2"},
		{"id":"ce165bf9d613ca1a","type":"text","text":"Filesystem / API calls","x":-1539,"y":-3879,"width":207,"height":50},
		{"id":"892a555b8001e4ea","type":"text","text":"**DOCKER MCP (shared infrastructure)**\n\n**Desktop Commander** — shell commands, file ops, process management.\n\n**Filesystem** — local file read/write/list/move/delete.\n\n**Memory** — persistent knowledge graph (shared across all callers).\n\n**Context7** — always-current API and library docs. Code snippets, usage patterns.\n\n**Tavily** — web search for LLMs. Concise snippets + URLs. Costs API credits — prefer built-in scraper or Fetch when URL is known.\n\n**Fetch** — URL → clean markdown. Free. Prefer over Tavily when URL is known.\n\n**Playwright** — browser automation. For JS-heavy/dynamic pages only.\n\n**Sequential Thinking** — structured reasoning (shared).\n\nQdrant and n8n are their own containers\nn8n has a docker mcp server in addition to its container\nQdrant is called directly by its port, not through the docker gateway","x":-1495,"y":-3368,"width":740,"height":500},
		{"id":"fa5f3ae528520e21","type":"text","text":"Arbitrary:\nWeb calls\nSystem Commands","x":-1233,"y":-3597,"width":215,"height":95},
		{"id":"9cb24c3df2392193","type":"text","text":"**Docker MCP Gateway**\n\nMCP Tools — for AnythingLLM + LM Studio\nDocker manages hosting and such for the tools shared by the llm environments","x":-2000,"y":-3458,"width":400,"height":180,"color":"5"},
		{"id":"73d24cadb681ed91","type":"text","text":"n8n Docker Container\n\n- scheduled tasks\n- complex automation\n- workflows\n- n8n can call llms or other ai","x":-1942,"y":-3759,"width":285,"height":214,"color":"5"}
	],
	"edges":[
		{"id":"90fb57806b6e948b","fromNode":"74a6aa6bb5b8beab","fromSide":"bottom","toNode":"487af9359d013e6d","toSide":"top"},
		{"id":"2977b8c6e9c96a21","fromNode":"74a6aa6bb5b8beab","fromSide":"right","toNode":"94f9cca3b7a2efc7","toSide":"left"},
		{"id":"1d75da3fb8ea2abc","fromNode":"94f9cca3b7a2efc7","fromSide":"bottom","toNode":"487af9359d013e6d","toSide":"top"},
		{"id":"01e0504a209fd134","fromNode":"487af9359d013e6d","fromSide":"top","toNode":"94f9cca3b7a2efc7","toSide":"bottom"},
		{"id":"1efe46ec8c8a96e9","fromNode":"73d24cadb681ed91","fromSide":"right","toNode":"bba90d522812488d","toSide":"left"},
		{"id":"4bb5da92ce53f1f2","fromNode":"9cb24c3df2392193","fromSide":"top","toNode":"73d24cadb681ed91","toSide":"bottom","color":"5"},
		{"id":"fdd6967342dee67a","fromNode":"bba90d522812488d","fromSide":"left","toNode":"73d24cadb681ed91","toSide":"right"},
		{"id":"a3a7be49211dec8b","fromNode":"4dd3c5b4ac513e2b","fromSide":"right","toNode":"9cb24c3df2392193","toSide":"left","color":"4"},
		{"id":"07eb548d6f9f39fb","fromNode":"4dd3c5b4ac513e2b","fromSide":"left","toNode":"b2dc3311d4f3d582","toSide":"right","color":"4"},
		{"id":"c224a55e09362764","fromNode":"487af9359d013e6d","fromSide":"bottom","toNode":"4dd3c5b4ac513e2b","toSide":"top","color":"4"},
		{"id":"064cf529a2615a44","fromNode":"9cb24c3df2392193","fromSide":"bottom","toNode":"892a555b8001e4ea","toSide":"left","color":"5"},
		{"id":"d57b600edca67fd5","fromNode":"487af9359d013e6d","fromSide":"bottom","toNode":"9cb24c3df2392193","toSide":"left","color":"4"},
		{"id":"2ebe57825e12a432","fromNode":"892a555b8001e4ea","fromSide":"top","toNode":"fa5f3ae528520e21","toSide":"bottom"},
		{"id":"bd3e80356c16e6d9","fromNode":"bba90d522812488d","fromSide":"top","toNode":"ce165bf9d613ca1a","toSide":"bottom"},
		{"id":"14247a86bf7e3097","fromNode":"ce165bf9d613ca1a","fromSide":"bottom","toNode":"bba90d522812488d","toSide":"top"},
		{"id":"0f70438249e74c51","fromNode":"487af9359d013e6d","fromSide":"left","toNode":"f23465e5ec95a89b","toSide":"right","color":"4"},
		{"id":"5de6ca98ac111dad","fromNode":"a1b2c3d4e5f60001","fromSide":"top","toNode":"f23465e5ec95a89b","toSide":"bottom","color":"6"},
		{"id":"0be9c4bd8ba86c21","fromNode":"a1b2c3d4e5f60001","fromSide":"bottom","toNode":"b2dc3311d4f3d582","toSide":"top","color":"6"},
		{"id":"c3aa5dee0b02a5f6","fromNode":"4dd3c5b4ac513e2b","fromSide":"bottom","toNode":"d1a2b3c4e5f60001","toSide":"top","color":"4"},
		{"id":"40982a410d0ca968","fromNode":"d1a2b3c4e5f60001","fromSide":"left","toNode":"b2dc3311d4f3d582","toSide":"bottom","color":"3"},
		{"id":"9276ef526e1120ec","fromNode":"73d24cadb681ed91","fromSide":"left","toNode":"4dd3c5b4ac513e2b","toSide":"top","color":"4"}
	]
}